{"mappings":"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","sources":["src/js/refs.js","src/js/api.js","src/js/markup.js","src/js/index.js"],"sourcesContent":["export default function getRefs() {\n  return {\n    body: document.querySelector('body'),\n    searchForm: document.querySelector('.search-form'),\n    searchInput: document.querySelector('.search-form input'),\n    searchButton: document.querySelector('.search-form button'),\n    galleryWrapper: document.querySelector('.gallery'),\n    loadMoreButton: document.querySelector('.load-more'),\n  };\n}\n","const BASE_URL = 'https://pixabay.com/api';\nconst API_KEY = '40252258-b27561441daedadb4fc814a5c';\nconst search = {\n  query: null,\n  type: 'photo',\n  orientation: 'horizontal',\n  page: 1,\n  onPage: 40,\n  safe: true,\n};\n\nfunction processJSON(response) {\n  return response.json();\n}\n\nfunction fetchPictures() {\n  return fetch(\n    `${BASE_URL}/?key=${API_KEY}&q=${search.query}&image_type=${search.type}&orientation=${search.orientation}&safesearch=${search.safe}&page=${search.page}&per_page=${search.onPage}`\n  ).then(processJSON);\n}\n\nexport default { fetchPictures, search };\n","import getRefs from './refs';\n\nconst refs = getRefs();\n\nconst columnNumber = 4;\n\nfunction preparePageStyles() {\n  refs.body.style.fontFamily = 'Calibri, sans-serif';\n  refs.body.style.fontSize = '12px';\n  refs.body.style.margin = '0';\n  refs.body.style.paddingTop = '60px';\n  refs.body.style.backgroundColor = '#EAF1FA';\n\n  refs.searchForm.style.display = 'flex';\n  refs.searchForm.style.justifyContent = 'center';\n  refs.searchForm.style.position = 'fixed';\n  refs.searchForm.style.top = '0px';\n  refs.searchForm.style.left = '0px';\n  refs.searchForm.style.right = '0px';\n  refs.searchForm.style.padding = '10px 0';\n  refs.searchForm.style.backgroundColor = '#73A0DB';\n\n  refs.searchInput.style.padding = '10px 5px';\n  refs.searchInput.style.border = '1px solid #255391';\n  refs.searchInput.style.borderRadius = '5px';\n\n  refs.searchButton.style.padding = '10px 15px';\n  refs.searchButton.style.backgroundColor = '#255391';\n  refs.searchButton.style.color = '#ffffff';\n  refs.searchButton.style.border = '1px solid #ffffff';\n  refs.searchButton.style.borderRadius = '5px';\n\n  refs.galleryWrapper.style.display = 'flex';\n  refs.galleryWrapper.style.alignContent = 'center';\n  refs.galleryWrapper.style.flexWrap = 'wrap';\n  refs.galleryWrapper.style.gap = '10px';\n  refs.galleryWrapper.style.padding = '0 5px 10px';\n\n  refs.loadMoreButton.style.display = 'block';\n  refs.loadMoreButton.style.margin = '0 auto 10px';\n  refs.loadMoreButton.style.padding = '10px 15px';\n  refs.loadMoreButton.style.backgroundColor = '#255391';\n  refs.loadMoreButton.style.color = '#ffffff';\n  refs.loadMoreButton.style.border = '1px solid #255391';\n  refs.loadMoreButton.style.borderRadius = '5px';\n}\n\nfunction hideButton() {\n  refs.loadMoreButton.style.visibility = 'hidden';\n}\n\nfunction showButton() {\n  refs.loadMoreButton.style.visibility = 'visible';\n}\n\nfunction markupGalleryCard(element) {\n  return `<div class=\"photo-card\">\n        <img src=\"${element['webformatURL']}\" alt=\"${element['tags']}\" width=\"100%\" loading=\"lazy\" />\n        <div class=\"info\">\n            <p class=\"info-item\">\n                <b>Likes</b>${element['likes']}\n            </p>\n            <p class=\"info-item\">\n                <b>Views</b>${element['views']}\n            </p>\n            <p class=\"info-item\">\n                <b>Comments</b>${element['comments']}\n            </p>\n            <p class=\"info-item\">\n                <b>Downloads</b>${element['downloads']}\n            </p>\n        </div>\n    </div>`;\n}\n\nfunction insertGalleryCard(hit) {\n  return refs.galleryWrapper.insertAdjacentHTML(\n    'beforeend',\n    markupGalleryCard(hit)\n  );\n}\n\nfunction prepareCardStyles(card) {\n  card.style.width = `calc((100% - ${\n    columnNumber - 1\n  } * 10px) / ${columnNumber})`;\n  card.style.display = 'flex';\n  card.style.flexDirection = 'column';\n  card.style.justifyContent = 'flex-end';\n  card.style.boxShadow =\n    '0px 2px 1px 0px rgba(46, 47, 66, 0.08),0px 1px 1px 0px rgba(46, 47, 66, 0.16),0px 1px 6px 0px rgba(46, 47, 66, 0.08)';\n  card.style.borderRadius = '0 0 5px 5px';\n  const infoContainer = card.querySelector('.info');\n  const infoItems = card.querySelectorAll('.info-item');\n  // console.log(infoItems);\n  infoContainer.style.display = 'flex';\n  infoContainer.style.justifyContent = 'space-around';\n  infoContainer.style.padding = '10px';\n  infoItems.forEach(item => {\n    item.style.display = 'flex';\n    item.style.flexDirection = 'column';\n    item.style.alignItems = 'center';\n  });\n}\n\nfunction renderGalleryCards(pictures) {\n  pictures.hits.forEach(insertGalleryCard);\n  const imageCards = Array.from(refs.galleryWrapper.children);\n  imageCards.forEach(prepareCardStyles);\n}\n\nfunction cleanGallery() {\n  refs.galleryWrapper.innerHTML = '';\n}\n\nexport default {\n  preparePageStyles,\n  hideButton,\n  showButton,\n  renderGalleryCards,\n  cleanGallery,\n};\n","import getRefs from './refs';\nimport api from './api';\nimport markup from './markup';\n\nconst refs = getRefs();\n\nmarkup.preparePageStyles();\n\nlet searchMatches = 0;\n\nfunction createGallery(pictures) {\n  if (pictures.hits.length > 0) {\n    if (api.search.page === 1) {\n      console.log(`Hooray! We found ${pictures.totalHits} images`);\n      console.log(`page number ${api.search.page} is loaded`);\n    }\n    markup.renderGalleryCards(pictures);\n    searchMatches += pictures.hits.length;\n    console.log(\n      `${searchMatches} photos are delivered out of ${pictures.totalHits} allowed per one query.`\n    );\n    if (searchMatches < pictures.totalHits) {\n      setTimeout(markup.showButton, 1500);\n    } else {\n      markup.hideButton();\n      console.log(\"We're sorry, but you've reached the end of search results.\");\n      refs.searchForm.reset();\n    }\n  } else {\n    console.log('no pictures found!');\n    markup.hideButton();\n    refs.searchForm.reset();\n  }\n}\n\nfunction processError(error) {\n  if (error.message === 'Request failed with status 400') {\n    console.log(\"We're sorry, but you've reached the end of search results.\");\n    markup.hideButton();\n    refs.searchForm.reset();\n  } else if (error.message === 'Failed to fetch') {\n    console.log(\n      'Internet connection is lost. Please try again as soon as your connection is restored'\n    );\n  } else {\n    console.log('An error occurred: ', error.message);\n    markup.hideButton();\n    refs.searchForm.reset();\n  }\n}\n\nfunction startSearch(event) {\n  event.preventDefault();\n  if (api.search.query !== refs.searchInput.value) {\n    // console.log(refs.searchInput);\n    // console.log(refs.searchForm.elements.searchQuery);\n    // console.log(event.currentTarget.elements.searchQuery);\n    // console.log(refs.searchForm.elements[1]);\n    markup.hideButton();\n    markup.cleanGallery();\n    api.search.query = refs.searchInput.value;\n    if (api.search.query.trim() !== '') {\n      api.search.page = 1;\n      searchMatches = 0;\n      api.fetchPictures().then(createGallery).catch(processError);\n    } else {\n      console.log('Please fill in search field!');\n    }\n  }\n}\n\nfunction loadMore() {\n  api.search.page += 1;\n  console.log(`page number ${api.search.page} is loaded`);\n  api.fetchPictures().then(createGallery).catch(processError);\n}\n\nrefs.searchForm.addEventListener('submit', startSearch);\nrefs.loadMoreButton.addEventListener('click', loadMore);\n\nmarkup.hideButton();\n"],"names":["$37e33676934ad046$export$2e2bcd8739ae039","body","document","querySelector","searchForm","searchInput","searchButton","galleryWrapper","loadMoreButton","$8197bff4c39d585a$var$search","query","type","orientation","page","onPage","safe","$8197bff4c39d585a$var$processJSON","response","json","$8197bff4c39d585a$export$2e2bcd8739ae039","fetchPictures","fetch","concat","then","search","$1457a8b41868a85b$var$refs","$1457a8b41868a85b$var$insertGalleryCard","hit","insertAdjacentHTML","element","$1457a8b41868a85b$var$prepareCardStyles","card","style","width","$1457a8b41868a85b$var$columnNumber","display","flexDirection","justifyContent","boxShadow","borderRadius","infoContainer","infoItems","querySelectorAll","padding","forEach","item","alignItems","$1457a8b41868a85b$export$2e2bcd8739ae039","preparePageStyles","fontFamily","fontSize","margin","paddingTop","backgroundColor","position","top","left","right","border","color","alignContent","flexWrap","gap","hideButton","visibility","showButton","renderGalleryCards","pictures","hits","Array","from","children","cleanGallery","innerHTML","$44ae6d9db4eaca0f$var$refs","$44ae6d9db4eaca0f$var$searchMatches","$44ae6d9db4eaca0f$var$createGallery","length","console","log","totalHits","setTimeout","reset","$44ae6d9db4eaca0f$var$processError","error","message","addEventListener","event","preventDefault","value","trim","catch"],"version":3,"file":"index.7cb36611.js.map"}