!function(){function e(){return{body:document.querySelector("body"),searchForm:document.querySelector(".search-form"),searchInput:document.querySelector(".search-form input"),searchButton:document.querySelector(".search-form button"),galleryWrapper:document.querySelector(".gallery"),loadMoreButton:document.querySelector(".load-more")}}var t={query:null,type:"photo",orientation:"horizontal",page:1,onPage:40,safe:!0};function o(e){return e.json()}var r={fetchPictures:function(){return fetch("".concat("https://pixabay.com/api","/?key=").concat("40252258-b27561441daedadb4fc814a5c","&q=").concat(t.query,"&image_type=").concat(t.type,"&orientation=").concat(t.orientation,"&safesearch=").concat(t.safe,"&page=").concat(t.page,"&per_page=").concat(t.onPage)).then(o)},search:t},a=e();function n(e){return a.galleryWrapper.insertAdjacentHTML("beforeend",'<div class="photo-card">\n        <img src="'.concat((t=e).webformatURL,'" alt="').concat(t.tags,'" width="100%" loading="lazy" />\n        <div class="info">\n            <p class="info-item">\n                <b>Likes</b>').concat(t.likes,'\n            </p>\n            <p class="info-item">\n                <b>Views</b>').concat(t.views,'\n            </p>\n            <p class="info-item">\n                <b>Comments</b>').concat(t.comments,'\n            </p>\n            <p class="info-item">\n                <b>Downloads</b>').concat(t.downloads,"\n            </p>\n        </div>\n    </div>"));var t}function s(e){e.style.width="calc((100% - ".concat(3," * 10px) / ").concat(4,")"),e.style.display="flex",e.style.flexDirection="column",e.style.justifyContent="flex-end",e.style.boxShadow="0px 2px 1px 0px rgba(46, 47, 66, 0.08),0px 1px 1px 0px rgba(46, 47, 66, 0.16),0px 1px 6px 0px rgba(46, 47, 66, 0.08)",e.style.borderRadius="0 0 5px 5px";var t=e.querySelector(".info"),o=e.querySelectorAll(".info-item");t.style.display="flex",t.style.justifyContent="space-around",t.style.padding="10px",o.forEach((function(e){e.style.display="flex",e.style.flexDirection="column",e.style.alignItems="center"}))}var l={preparePageStyles:function(){a.body.style.fontFamily="Calibri, sans-serif",a.body.style.fontSize="12px",a.body.style.margin="0",a.body.style.paddingTop="60px",a.body.style.backgroundColor="#EAF1FA",a.searchForm.style.display="flex",a.searchForm.style.justifyContent="center",a.searchForm.style.position="fixed",a.searchForm.style.top="0px",a.searchForm.style.left="0px",a.searchForm.style.right="0px",a.searchForm.style.padding="10px 0",a.searchForm.style.backgroundColor="#73A0DB",a.searchInput.style.padding="10px 5px",a.searchInput.style.border="1px solid #255391",a.searchInput.style.borderRadius="5px",a.searchButton.style.padding="10px 15px",a.searchButton.style.backgroundColor="#255391",a.searchButton.style.color="#ffffff",a.searchButton.style.border="1px solid #ffffff",a.searchButton.style.borderRadius="5px",a.galleryWrapper.style.display="flex",a.galleryWrapper.style.alignContent="center",a.galleryWrapper.style.flexWrap="wrap",a.galleryWrapper.style.gap="10px",a.galleryWrapper.style.padding="0 5px 10px",a.loadMoreButton.style.display="block",a.loadMoreButton.style.margin="0 auto 10px",a.loadMoreButton.style.padding="10px 15px",a.loadMoreButton.style.backgroundColor="#255391",a.loadMoreButton.style.color="#ffffff",a.loadMoreButton.style.border="1px solid #255391",a.loadMoreButton.style.borderRadius="5px"},hideButton:function(){a.loadMoreButton.style.visibility="hidden"},showButton:function(){a.loadMoreButton.style.visibility="visible"},renderGalleryCards:function(e){e.hits.forEach(n),Array.from(a.galleryWrapper.children).forEach(s)},cleanGallery:function(){a.galleryWrapper.innerHTML=""}},c=e();l.preparePageStyles();var i=0;function d(e){e.hits.length>0?(1===r.search.page&&(console.log("Hooray! We found ".concat(e.totalHits," images")),console.log("page number ".concat(r.search.page," is loaded"))),l.renderGalleryCards(e),i+=e.hits.length,console.log("".concat(i," photos are delivered out of ").concat(e.totalHits," allowed per one query.")),i<e.totalHits?setTimeout(l.showButton,1500):(l.hideButton(),console.log("We're sorry, but you've reached the end of search results."),c.searchForm.reset())):(console.log("no pictures found!"),l.hideButton(),c.searchForm.reset())}function p(e){"Request failed with status 400"===e.message?(console.log("We're sorry, but you've reached the end of search results."),l.hideButton(),c.searchForm.reset()):"Failed to fetch"===e.message?console.log("Internet connection is lost. Please try again as soon as your connection is restored"):(console.log("An error occurred: ",e.message),l.hideButton(),c.searchForm.reset())}c.searchForm.addEventListener("submit",(function(e){e.preventDefault(),r.search.query!==c.searchInput.value&&(l.hideButton(),l.cleanGallery(),r.search.query=c.searchInput.value,""!==r.search.query.trim()?(r.search.page=1,i=0,r.fetchPictures().then(d).catch(p)):console.log("Please fill in search field!"))})),c.loadMoreButton.addEventListener("click",(function(){r.search.page+=1,console.log("page number ".concat(r.search.page," is loaded")),r.fetchPictures().then(d).catch(p)})),l.hideButton()}();
//# sourceMappingURL=index.7cb36611.js.map
