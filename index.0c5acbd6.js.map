{"mappings":"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","sources":["src/js/refs.js","src/js/api.js","src/js/markup.js","src/js/index.js"],"sourcesContent":["export default function getRefs() {\n  return {\n    body: document.querySelector('body'),\n    searchForm: document.querySelector('.search-form'),\n    searchInput: document.querySelector('.search-form input'),\n    searchButton: document.querySelector('.search-form button'),\n    galleryWrapper: document.querySelector('.gallery'),\n    loadMoreButton: document.querySelector('.load-more'),\n  };\n}\n","const BASE_URL = 'https://pixabay.com/api';\nconst API_KEY = '40252258-b27561441daedadb4fc814a5c';\nconst search = {\n  query: null,\n  type: 'photo',\n  orientation: 'horizontal',\n  page: 1,\n  onPage: 40,\n  safe: true,\n};\n\nfunction processJSON(response) {\n  return response.json();\n}\n\nfunction fetchPictures() {\n  return fetch(\n    `${BASE_URL}/?key=${API_KEY}&q=${search.query}&image_type=${search.type}&orientation=${search.orientation}&safesearch=${search.safe}&page=${search.page}&per_page=${search.onPage}`\n  ).then(processJSON);\n}\n\nexport default { fetchPictures, search };\n","import getRefs from './refs';\n\nconst refs = getRefs();\n\nconst columnNumber = 4;\n\nfunction preparePageStyles() {\n  refs.body.style.fontFamily = 'Calibri, sans-serif';\n  refs.body.style.fontSize = '12px';\n  refs.body.style.margin = '0';\n  refs.body.style.paddingTop = '60px';\n  refs.body.style.backgroundColor = '#EAF1FA';\n\n  refs.searchForm.style.display = 'flex';\n  refs.searchForm.style.justifyContent = 'center';\n  refs.searchForm.style.position = 'fixed';\n  refs.searchForm.style.top = '0px';\n  refs.searchForm.style.left = '0px';\n  refs.searchForm.style.right = '0px';\n  refs.searchForm.style.padding = '10px 0';\n  refs.searchForm.style.backgroundColor = '#73A0DB';\n\n  refs.searchInput.style.padding = '10px 5px';\n  refs.searchInput.style.border = '1px solid #255391';\n  refs.searchInput.style.borderRadius = '5px';\n\n  refs.searchButton.style.padding = '10px 15px';\n  refs.searchButton.style.backgroundColor = '#255391';\n  refs.searchButton.style.color = '#ffffff';\n  refs.searchButton.style.border = '1px solid #ffffff';\n  refs.searchButton.style.borderRadius = '5px';\n\n  refs.galleryWrapper.style.display = 'flex';\n  refs.galleryWrapper.style.alignContent = 'center';\n  refs.galleryWrapper.style.flexWrap = 'wrap';\n  refs.galleryWrapper.style.gap = '10px';\n  refs.galleryWrapper.style.padding = '0 5px 10px';\n\n  refs.loadMoreButton.style.display = 'block';\n  refs.loadMoreButton.style.margin = '0 auto 10px';\n  refs.loadMoreButton.style.padding = '10px 15px';\n  refs.loadMoreButton.style.backgroundColor = '#255391';\n  refs.loadMoreButton.style.color = '#ffffff';\n  refs.loadMoreButton.style.border = '1px solid #255391';\n  refs.loadMoreButton.style.borderRadius = '5px';\n}\n\nfunction hideButton() {\n  refs.loadMoreButton.style.visibility = 'hidden';\n}\n\nfunction showButton() {\n  refs.loadMoreButton.style.visibility = 'visible';\n}\n\nfunction markupGalleryCard(element) {\n  return `<div class=\"photo-card\">\n        <img src=\"${element['webformatURL']}\" alt=\"${element['tags']}\" width=\"100%\" loading=\"lazy\" />\n        <div class=\"info\">\n            <p class=\"info-item\">\n                <b>Likes</b>${element['likes']}\n            </p>\n            <p class=\"info-item\">\n                <b>Views</b>${element['views']}\n            </p>\n            <p class=\"info-item\">\n                <b>Comments</b>${element['comments']}\n            </p>\n            <p class=\"info-item\">\n                <b>Downloads</b>${element['downloads']}\n            </p>\n        </div>\n    </div>`;\n}\n\nfunction insertGalleryCard(hit) {\n  return refs.galleryWrapper.insertAdjacentHTML(\n    'beforeend',\n    markupGalleryCard(hit)\n  );\n}\n\nfunction prepareCardStyles(card) {\n  card.style.width = `calc((100% - ${\n    columnNumber - 1\n  } * 10px) / ${columnNumber})`;\n  card.style.display = 'flex';\n  card.style.flexDirection = 'column';\n  card.style.justifyContent = 'flex-end';\n  card.style.boxShadow =\n    '0px 2px 1px 0px rgba(46, 47, 66, 0.08),0px 1px 1px 0px rgba(46, 47, 66, 0.16),0px 1px 6px 0px rgba(46, 47, 66, 0.08)';\n  card.style.borderRadius = '0 0 5px 5px';\n  const infoContainer = card.querySelector('.info');\n  const infoItems = card.querySelectorAll('.info-item');\n  // console.log(infoItems);\n  infoContainer.style.display = 'flex';\n  infoContainer.style.justifyContent = 'space-around';\n  infoContainer.style.padding = '10px';\n  infoItems.forEach(item => {\n    item.style.display = 'flex';\n    item.style.flexDirection = 'column';\n    item.style.alignItems = 'center';\n  });\n}\n\nfunction renderGalleryCards(pictures) {\n  pictures.hits.forEach(insertGalleryCard);\n  const imageCards = Array.from(refs.galleryWrapper.children);\n  imageCards.forEach(prepareCardStyles);\n}\n\nfunction cleanGallery() {\n  refs.galleryWrapper.innerHTML = '';\n}\n\nexport default {\n  preparePageStyles,\n  hideButton,\n  showButton,\n  renderGalleryCards,\n  cleanGallery,\n};\n","import getRefs from './refs';\nimport api from './api';\nimport markup from './markup';\n\nconst refs = getRefs();\n\nmarkup.preparePageStyles();\n\nlet searchMatches = 0;\n\nfunction createGallery(pictures) {\n  if (pictures.hits.length > 0) {\n    if (api.search.page === 1) {\n      console.log(`Hooray! We found ${pictures.totalHits} images`);\n      console.log(`page number ${api.search.page} is loaded`);\n    }\n    markup.renderGalleryCards(pictures);\n    searchMatches += pictures.hits.length;\n    console.log(\n      `${searchMatches} photos are delivered out of ${pictures.totalHits} allowed per one query.`\n    );\n    if (searchMatches < pictures.totalHits) {\n      setTimeout(markup.showButton, 1500);\n    } else {\n      markup.hideButton();\n      console.log(\"We're sorry, but you've reached the end of search results.\");\n      refs.searchForm.reset();\n    }\n  } else {\n    console.log('no pictures found!');\n    markup.hideButton();\n    refs.searchForm.reset();\n  }\n}\n\nfunction processError(error) {\n  if (error.message === 'Request failed with status 400') {\n    console.log(\"We're sorry, but you've reached the end of search results.\");\n    markup.hideButton();\n    refs.searchForm.reset();\n  } else if (error.message === 'Failed to fetch') {\n    console.log(\n      'Internet connection is lost. Please try again as soon as your connection is restored'\n    );\n  } else {\n    console.log('An error occurred: ', error.message);\n    markup.hideButton();\n    refs.searchForm.reset();\n  }\n}\n\nfunction startSearch(event) {\n  event.preventDefault();\n  if (api.search.query !== refs.searchInput.value) {\n    // console.log(refs.searchInput);\n    // console.log(refs.searchForm.elements.searchQuery);\n    // console.log(event.currentTarget.elements.searchQuery);\n    // console.log(refs.searchForm.elements[1]);\n    markup.hideButton();\n    markup.cleanGallery();\n    api.search.query = refs.searchInput.value;\n    if (api.search.query.trim() !== '') {\n      api.search.page = 1;\n      searchMatches = 0;\n      api.fetchPictures().then(createGallery).catch(processError);\n    } else {\n      console.log('Please fill in search field!');\n    }\n  }\n}\n\nfunction loadMore() {\n  api.search.page += 1;\n  console.log(`page number ${api.search.page} is loaded`);\n  api.fetchPictures().then(createGallery).catch(processError);\n}\n\nrefs.searchForm.addEventListener('submit', startSearch);\nrefs.loadMoreButton.addEventListener('click', loadMore);\n\nmarkup.hideButton();\n"],"names":["$ee27a4d7c64fc8c4$export$2e2bcd8739ae039","body","document","querySelector","searchForm","searchInput","searchButton","galleryWrapper","loadMoreButton","$56ca17bb174b0ce3$var$search","query","type","orientation","page","onPage","safe","$56ca17bb174b0ce3$var$processJSON","response","json","$56ca17bb174b0ce3$export$2e2bcd8739ae039","fetch","then","$263aef85a4d00bfb$var$refs","$263aef85a4d00bfb$var$insertGalleryCard","hit","insertAdjacentHTML","element","$263aef85a4d00bfb$var$prepareCardStyles","card","style","width","display","flexDirection","justifyContent","boxShadow","borderRadius","infoContainer","infoItems","querySelectorAll","padding","forEach","item","alignItems","$263aef85a4d00bfb$export$2e2bcd8739ae039","fontFamily","fontSize","margin","paddingTop","backgroundColor","position","top","left","right","border","color","alignContent","flexWrap","gap","visibility","pictures","hits","Array","from","children","innerHTML","$85a5f86b715fe7db$var$refs","preparePageStyles","$85a5f86b715fe7db$var$searchMatches","$85a5f86b715fe7db$var$createGallery","length","search","console","log","totalHits","renderGalleryCards","setTimeout","showButton","hideButton","reset","$85a5f86b715fe7db$var$processError","error","message","addEventListener","event","preventDefault","value","cleanGallery","trim","fetchPictures","catch"],"version":3,"file":"index.0c5acbd6.js.map"}