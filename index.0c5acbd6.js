function e(){return{body:document.querySelector("body"),searchForm:document.querySelector(".search-form"),searchInput:document.querySelector(".search-form input"),searchButton:document.querySelector(".search-form button"),galleryWrapper:document.querySelector(".gallery"),loadMoreButton:document.querySelector(".load-more")}}const t={query:null,type:"photo",orientation:"horizontal",page:1,onPage:40,safe:!0};function o(e){return e.json()}var r={fetchPictures:function(){return fetch(`https://pixabay.com/api/?key=40252258-b27561441daedadb4fc814a5c&q=${t.query}&image_type=${t.type}&orientation=${t.orientation}&safesearch=${t.safe}&page=${t.page}&per_page=${t.onPage}`).then(o)},search:t};const s=e();function a(e){return s.galleryWrapper.insertAdjacentHTML("beforeend",`<div class="photo-card">\n        <img src="${(t=e).webformatURL}" alt="${t.tags}" width="100%" loading="lazy" />\n        <div class="info">\n            <p class="info-item">\n                <b>Likes</b>${t.likes}\n            </p>\n            <p class="info-item">\n                <b>Views</b>${t.views}\n            </p>\n            <p class="info-item">\n                <b>Comments</b>${t.comments}\n            </p>\n            <p class="info-item">\n                <b>Downloads</b>${t.downloads}\n            </p>\n        </div>\n    </div>`);var t}function n(e){e.style.width="calc((100% - 3 * 10px) / 4)",e.style.display="flex",e.style.flexDirection="column",e.style.justifyContent="flex-end",e.style.boxShadow="0px 2px 1px 0px rgba(46, 47, 66, 0.08),0px 1px 1px 0px rgba(46, 47, 66, 0.16),0px 1px 6px 0px rgba(46, 47, 66, 0.08)",e.style.borderRadius="0 0 5px 5px";const t=e.querySelector(".info"),o=e.querySelectorAll(".info-item");t.style.display="flex",t.style.justifyContent="space-around",t.style.padding="10px",o.forEach((e=>{e.style.display="flex",e.style.flexDirection="column",e.style.alignItems="center"}))}var l={preparePageStyles:function(){s.body.style.fontFamily="Calibri, sans-serif",s.body.style.fontSize="12px",s.body.style.margin="0",s.body.style.paddingTop="60px",s.body.style.backgroundColor="#EAF1FA",s.searchForm.style.display="flex",s.searchForm.style.justifyContent="center",s.searchForm.style.position="fixed",s.searchForm.style.top="0px",s.searchForm.style.left="0px",s.searchForm.style.right="0px",s.searchForm.style.padding="10px 0",s.searchForm.style.backgroundColor="#73A0DB",s.searchInput.style.padding="10px 5px",s.searchInput.style.border="1px solid #255391",s.searchInput.style.borderRadius="5px",s.searchButton.style.padding="10px 15px",s.searchButton.style.backgroundColor="#255391",s.searchButton.style.color="#ffffff",s.searchButton.style.border="1px solid #ffffff",s.searchButton.style.borderRadius="5px",s.galleryWrapper.style.display="flex",s.galleryWrapper.style.alignContent="center",s.galleryWrapper.style.flexWrap="wrap",s.galleryWrapper.style.gap="10px",s.galleryWrapper.style.padding="0 5px 10px",s.loadMoreButton.style.display="block",s.loadMoreButton.style.margin="0 auto 10px",s.loadMoreButton.style.padding="10px 15px",s.loadMoreButton.style.backgroundColor="#255391",s.loadMoreButton.style.color="#ffffff",s.loadMoreButton.style.border="1px solid #255391",s.loadMoreButton.style.borderRadius="5px"},hideButton:function(){s.loadMoreButton.style.visibility="hidden"},showButton:function(){s.loadMoreButton.style.visibility="visible"},renderGalleryCards:function(e){e.hits.forEach(a),Array.from(s.galleryWrapper.children).forEach(n)},cleanGallery:function(){s.galleryWrapper.innerHTML=""}};const c=e();l.preparePageStyles();let i=0;function d(e){e.hits.length>0?(1===r.search.page&&(console.log(`Hooray! We found ${e.totalHits} images`),console.log(`page number ${r.search.page} is loaded`)),l.renderGalleryCards(e),i+=e.hits.length,console.log(`${i} photos are delivered out of ${e.totalHits} allowed per one query.`),i<e.totalHits?setTimeout(l.showButton,1500):(l.hideButton(),console.log("We're sorry, but you've reached the end of search results."),c.searchForm.reset())):(console.log("no pictures found!"),l.hideButton(),c.searchForm.reset())}function p(e){"Request failed with status 400"===e.message?(console.log("We're sorry, but you've reached the end of search results."),l.hideButton(),c.searchForm.reset()):"Failed to fetch"===e.message?console.log("Internet connection is lost. Please try again as soon as your connection is restored"):(console.log("An error occurred: ",e.message),l.hideButton(),c.searchForm.reset())}c.searchForm.addEventListener("submit",(function(e){e.preventDefault(),r.search.query!==c.searchInput.value&&(l.hideButton(),l.cleanGallery(),r.search.query=c.searchInput.value,""!==r.search.query.trim()?(r.search.page=1,i=0,r.fetchPictures().then(d).catch(p)):console.log("Please fill in search field!"))})),c.loadMoreButton.addEventListener("click",(function(){r.search.page+=1,console.log(`page number ${r.search.page} is loaded`),r.fetchPictures().then(d).catch(p)})),l.hideButton();
//# sourceMappingURL=index.0c5acbd6.js.map
